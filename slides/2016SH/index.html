<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>New Vistualization</title>
  <meta name="description" content="">
  <meta name="author" content="Chiffon">
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <link rel="stylesheet" href="../libraries/frameworks/revealjs/css/reveal.css">
  <link rel="stylesheet" href="../libraries/frameworks/revealjs/css/theme/Sky.css" id="theme">
  <link rel="stylesheet" href="../libraries/highlighters/highlight.js/css/tomorrow.css" id="theme">
  <!--[if lt IE 9]>
  <script src="lib/js/html5shiv.js"></script>
  <![endif]-->  
</head>
<body>
  <div class="reveal">
    <div class="slides">
      <section class='' data-state='' id='slide-1'>
  
  <style>
td{
font-size: 3
}
.title-slide {
  background-color: #e2e2e2;
}

.title-slide hgroup > h1{
  font-family: 'Oswald', '微软雅黑';
  color: #202020;
  letter-spacing: 2px;
}

.title-slide hgroup > h2{
  font-family: 'Signika Negative', 'Calibri', '微软雅黑';
  color: #202020;
  letter-spacing: 2px;
}

.reveal {font-family: 'Signika Negative', 'Calibri', '微软雅黑';
  color: #202020;
}

strong{
 color: #4876FF;
}

</style>

<h2>新瓶与新酒</h2>

<h3>让R的可视化更炫酷</h3>

<p><small> Created by <a href="http://lchiffon.github.io">Chiffon</a>郎大为</small><br/>
<small>J.D. Power 数据分析师</small></p>

<script src="../libraries/jquery.min.js"></script>

<script>
            document.write( '<link rel="stylesheet" href="libraries/frameworks/revealjs/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
        </script>

</section>
<section class='' data-state='' id='slide-2'>
  <h2>可视化是手段</h2>
  <table><thead>
<tr>
<th align="right">id</th>
<th align="left">name</th>
<th align="right">age</th>
<th align="left">grade</th>
<th align="right">test1</th>
<th align="right">test2</th>
<th align="right">final</th>
<th align="left">registered</th>
</tr>
</thead><tbody>
<tr>
<td align="right">1</td>
<td align="left">Bob</td>
<td align="right">28</td>
<td align="left">C</td>
<td align="right">8.9</td>
<td align="right">9.1</td>
<td align="right">9.0</td>
<td align="left">TRUE</td>
</tr>
<tr>
<td align="right">2</td>
<td align="left">Ashley</td>
<td align="right">27</td>
<td align="left">A</td>
<td align="right">9.5</td>
<td align="right">9.1</td>
<td align="right">9.3</td>
<td align="left">FALSE</td>
</tr>
<tr>
<td align="right">3</td>
<td align="left">James</td>
<td align="right">30</td>
<td align="left">A</td>
<td align="right">9.6</td>
<td align="right">9.2</td>
<td align="right">9.4</td>
<td align="left">TRUE</td>
</tr>
<tr>
<td align="right">4</td>
<td align="left">David</td>
<td align="right">28</td>
<td align="left">C</td>
<td align="right">8.9</td>
<td align="right">9.1</td>
<td align="right">9.0</td>
<td align="left">FALSE</td>
</tr>
<tr>
<td align="right">5</td>
<td align="left">Jenny</td>
<td align="right">29</td>
<td align="left">B</td>
<td align="right">9.1</td>
<td align="right">8.9</td>
<td align="right">9.0</td>
<td align="left">TRUE</td>
</tr>
<tr>
<td align="right">6</td>
<td align="left">Hans</td>
<td align="right">29</td>
<td align="left">B</td>
<td align="right">9.3</td>
<td align="right">8.5</td>
<td align="right">8.9</td>
<td align="left">TRUE</td>
</tr>
</tbody></table>

</section>
<section>
   <section class='' data-state=''>
    <h3>新的瓶子: HtmlWidgets</h3>
    <h3><em>package:formatR</em></h3>

<iframe data-src="./html/formattable.html" height="600px" width="800px"></iframe>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h2>Codes</h2>

<pre><code class="r">install.packages(&quot;formattable&quot;)
library(formattable)

df &lt;- data.frame(
  id = 1:10,
  name = c(&quot;Bob&quot;, &quot;Ashley&quot;, &quot;James&quot;, &quot;David&quot;, &quot;Jenny&quot;, 
    &quot;Hans&quot;, &quot;Leo&quot;, &quot;John&quot;, &quot;Emily&quot;, &quot;Lee&quot;), 
  age = c(28, 27, 30, 28, 29, 29, 27, 27, 31, 30),
  grade = c(&quot;C&quot;, &quot;A&quot;, &quot;A&quot;, &quot;C&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;A&quot;, &quot;C&quot;, &quot;C&quot;),
  test1_score = c(8.9, 9.5, 9.6, 8.9, 9.1, 9.3, 9.3, 9.9, 8.5, 8.6),
  test2_score = c(9.1, 9.1, 9.2, 9.1, 8.9, 8.5, 9.2, 9.3, 9.1, 8.8),
  final_score = c(9, 9.3, 9.4, 9, 9, 8.9, 9.25, 9.6, 8.8, 8.7),
  registered = c(TRUE, FALSE, TRUE, FALSE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE),
  stringsAsFactors = FALSE)

formattable(df, list(
  age = color_tile(&quot;white&quot;, &quot;orange&quot;),
  grade = formatter(&quot;span&quot;, style = x ~ ifelse(x == &quot;A&quot;, 
                                               style(color = &quot;green&quot;, font.weight = &quot;bold&quot;), NA)),
  area(col = c(test1_score, test2_score)) ~ normalize_bar(&quot;pink&quot;, 0.2),
  final_score = formatter(&quot;span&quot;,
                          style = x ~ style(color = ifelse(rank(-x) &lt;= 3, &quot;green&quot;, &quot;gray&quot;)),
                          x ~ sprintf(&quot;%.2f (rank: %02d)&quot;, x, rank(-x))),
  registered = formatter(&quot;span&quot;,
                         style = x ~ style(color = ifelse(x, &quot;green&quot;, &quot;red&quot;)),
                         x ~ icontext(ifelse(x, &quot;ok&quot;, &quot;remove&quot;), ifelse(x, &quot;Yes&quot;, &quot;No&quot;)))
))
</code></pre>

    <aside class='notes'>
      
    </aside>
   </section>
</section>
<section>
   <section class='' data-state=''>
    <h2>基础图形的局限</h2>
    
    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h2>基础图形的局限</h2>

<ul>
<li>基础的图形已经能解决90%的问题

<ul>
<li>饼图 一维世界</li>
<li>条形图 二维世界</li>
<li>散点、折线图 努力展示高维世界</li>
</ul></li>
</ul>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h2>如何在一张图中展示5个维度</h2>

<p><img src="pic/ggplot2.png" alt=""></p>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <pre><code class="r">library(ggplot2)
ggplot(mpg,aes(cty, hwy, color=fl, size=displ)) +
  geom_point(position=&quot;jitter&quot;)+facet_wrap(~year)
</code></pre>

    <aside class='notes'>
      
    </aside>
   </section>
</section>
<section>
   <section class='' data-state=''>
    <h2>值得展示的高维数据</h2>
    <ul>
<li>不同污染物的情况</li>
<li>城市基本指标</li>
<li>运动员/候选人的数据</li>
</ul>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h3>多维坐标轴<em>recharts::eParallel</em></h3>

<iframe data-src="html/pall.html" height="600px" width="800px"></iframe>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h2>Codes</h2>

<pre><code class="r">devtools::install_github(&quot;taiyun/recharts&quot;)
library(recharts)
require(plyr)
axisList = list(
  list(index=7, type=&quot;category&quot;, data = c(&quot;low&quot;, &quot;middle&quot;, &quot;high&quot;)), 
  list(index=6, inverse=TRUE, max=50, nameLocation=&quot;start&quot;)
)
eParallel(head(parallelDf, 20), 
          series=~groupName,
          axisList = axisList)
</code></pre>

    <aside class='notes'>
      
    </aside>
   </section>
</section>
<section>
   <section class='' data-state=''>
    <h3>雷达图 <em>radarchart::chartJSRadar</em></h3>
    <ul>
<li>数据科学家的战斗力</li>
</ul>

<iframe data-src="html/radar.html" height="600px" width="800px"></iframe>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h3>雷达图<em>recharts::eRadar</em></h3>

<iframe data-src="html/radar2.html" height="600px" width="800px"></iframe>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h2>Codes</h2>

<pre><code class="r">install.packages(&quot;radarchart&quot;)
library(radarchart)
labs &lt;- c(&quot;Communicator&quot;, &quot;Data Wangler&quot;, &quot;Programmer&quot;,
          &quot;Technologist&quot;,  &quot;Modeller&quot;, &quot;Visualizer&quot;)
scores &lt;- list(
  &quot;Rich&quot; = c(9, 7, 4, 5, 3, 7),
  &quot;Andy&quot; = c(7, 6, 6, 2, 6, 9),
  &quot;Aimee&quot; = c(6, 5, 8, 4, 7, 6)
)
chartJSRadar(scores = scores, labs = labs, maxScale = 10)

library(recharts)
dat  &lt;- data.frame(
  saleNum=c(scores[[1]],scores[[2]],scores[[3]]),
    names=c(rep(&quot;Rich&quot;,6), rep(&quot;Andy&quot;,6), rep(&quot;Aimee&quot;,6)),
  ability = labs
)

eRadar(dat, ~ability, ~saleNum, ~names,ymax=rep(12,6))
</code></pre>

    <aside class='notes'>
      
    </aside>
   </section>
</section>
<section>
   <section class='' data-state=''>
    <h2>流程的转化</h2>
    <ul>
<li>App每天的用户都干什么了</li>
<li>为什么这次的活动没有带来收益</li>
<li>用户进入网站都干什么了</li>
</ul>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h3>漏斗图 <em>recharts::eFunnel</em></h3>

<iframe data-src="html/funnel.html" height="600px" width="800px"></iframe>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h2>Codes</h2>

<pre><code class="r">library(recharts)
x = c(&quot;Exposure&quot; = 100, &quot;Click&quot; = 80, &quot;Visit&quot; = 60, &quot;Query&quot;=40, &quot;Buy&quot;=20)
eFunnel(x) 
funnelDf &lt;- data.frame(namevar = c(&quot;Exposure&quot;, &quot;Click&quot;, &quot;Visit&quot;, &quot;Query&quot;, &quot;Buy&quot;), 
   datavar = c(100, 80, 60, 40, 20), stringsAsFactors=FALSE)
eFunnel(funnelDf, ~namevar, ~datavar)
</code></pre>

    <aside class='notes'>
      
    </aside>
   </section>
</section>
<section>
   <section class='' data-state=''>
    <h2>多维关系的展示</h2>
    <p><img data-src ='pic\sun1.png'/></p>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h2><em>sunburstR::sunburst</em></h2>

<iframe data-src="html/sun.html" height="600px" width="800px"></iframe>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h2>Codes</h2>

<pre><code class="r">library(TraMineR)
library(sunburstR)
library(pipeR)
# use example from TraMineR vignette
data(&quot;mvad&quot;)
mvad.alphab &lt;- c(
  &quot;employment&quot;, &quot;FE&quot;, &quot;HE&quot;, &quot;joblessness&quot;,
  &quot;school&quot;, &quot;training&quot;
)
mvad.seq &lt;- seqdef(mvad, 17:86, xtstep = 6, alphabet = mvad.alphab)

# to make this work, we&#39;ll compress the sequences with seqdss
#   could also aggregate with dply later
seqtab( seqdss(mvad.seq), tlim = 0, format = &quot;SPS&quot; ) %&gt;&gt;%
  attr(&quot;freq&quot;) %&gt;&gt;%
  (
    data.frame(
      # appending &quot;-end&quot; is necessary for this to work
      sequence = paste0(
        gsub(
          x = names(.$Freq)
          , pattern = &quot;(/[0-9]*)&quot;
          , replacement = &quot;&quot;
          , perl = T
        )
        ,&quot;-end&quot;
      )
      ,freq = as.numeric(.$Freq)
      ,stringsAsFactors = FALSE
    )
  ) %&gt;&gt;%
  sunburst
</code></pre>

    <aside class='notes'>
      
    </aside>
   </section>
</section>
<section class='' data-state='' id='slide-9'>
  <h2>关系的可视化</h2>
  <p>图数据的可视化</p>

<ul>
<li>igraph (旧瓶)</li>
<li><del>D3Network (破瓶)</del></li>
<li>networkD3 (新瓶)</li>
<li>diagrammeR</li>
</ul>

</section>
<section>
   <section class='' data-state=''>
    <h3>网络图<em>DiagrammeR</em></h3>
    <iframe data-src="html/graph.html" height="600px" width="800px"></iframe>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <pre><code class="r">library(DiagrammeR)
library(magrittr)

# Create a graph with fruit, vegetables,
# and nuts
nodes &lt;-
  create_nodes(
    nodes = 1:9,
    type = c(&quot;fruit&quot;, &quot;fruit&quot;, &quot;fruit&quot;,
             &quot;veg&quot;, &quot;veg&quot;, &quot;veg&quot;,
             &quot;nut&quot;, &quot;nut&quot;, &quot;nut&quot;),
    label = c(&quot;pineapple&quot;, &quot;apple&quot;,
              &quot;apricot&quot;, &quot;cucumber&quot;,
              &quot;celery&quot;, &quot;endive&quot;,
              &quot;hazelnut&quot;, &quot;almond&quot;,
              &quot;chestnut&quot;))

edges &lt;-
  create_edges(
    from = c(9, 3, 6, 2, 6, 2, 8, 2, 5, 5),
    to = c(1, 1, 4, 3, 7, 8, 1, 5, 3, 6))

graph &lt;-
  create_graph(
    nodes_df = nodes,
    edges_df = edges,
    graph_attrs = &quot;output = visNetwork&quot;)

# View the graph
render_graph(graph)
</code></pre>

    <aside class='notes'>
      
    </aside>
   </section>
</section>
<section>
   <section class='' data-state=''>
    <h3>弦图</h3>
    <p><img src="pic/chord.png" alt=""></p>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h2>Code</h2>

<pre><code class="r">library(networkD3)
hairColourData &lt;- matrix(c(11975,  1951,  8010, 1013,
                           5871, 10048, 16145,  990,
                           8916,  2060,  8090,  940,
                           2868,  6171,  8045, 6907),
                         nrow = 4)

chordNetwork(Data = hairColourData, 
             width = 500, 
             height = 500,
             colourScale = c(&quot;#000000&quot;, 
                             &quot;#FFDD89&quot;, 
                             &quot;#957244&quot;, 
                             &quot;#F26223&quot;),
             labels = c(&quot;red&quot;, &quot;brown&quot;, &quot;blond&quot;, &quot;gray&quot;))
</code></pre>

    <aside class='notes'>
      
    </aside>
   </section>
</section>
<section>
   <section class='' data-state=''>
    <h3>桑基图<em>networkD3::sankeyNetwork</em></h3>
    <iframe data-src="html/sankey.html" height="600px" width="800px"></iframe>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h2>Code</h2>

<pre><code class="r">library(networkD3)
# Load energy projection data
# Load energy projection data
URL &lt;- paste0(
  &quot;https://cdn.rawgit.com/christophergandrud/networkD3/&quot;,
  &quot;master/JSONdata/energy.json&quot;)
Energy &lt;- jsonlite::fromJSON(readLines(URL))
# Plot
sankeyNetwork(Links = Energy$links, Nodes = Energy$nodes, Source = &quot;source&quot;,
              Target = &quot;target&quot;, Value = &quot;value&quot;, NodeID = &quot;name&quot;,
              units = &quot;TWh&quot;, fontSize = 12, nodeWidth = 30)
</code></pre>

    <aside class='notes'>
      
    </aside>
   </section>
</section>
<section>
   <section class='' data-state=''>
    <h2>地理信息的可视化</h2>
    
    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h3>美国大选</h3>

<p><img src="pic/map.png" alt="">
<small><a href="http://blog.kaggle.com/2016/11/30/seventeen-ways-to-map-data-in-kaggle-kernels/">http://blog.kaggle.com/2016/11/30/seventeen-ways-to-map-data-in-kaggle-kernels/</a></small></p>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h3>中国GDP <em>REmap::remapC</em></h3>

<iframe data-src="html/1GDP.html" height="600px" width="800px"></iframe>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h3><em>leaflet</em></h3>

<iframe data-src="html/R-birth.html" height="600px" width="800px"></iframe>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h3>百度地图<em>REmap::remapB</em></h3>

<iframe data-src="html/4bmap2.html" height="600px" width="800px"></iframe>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h3>3D <em>threejs</em></h3>

<iframe data-src="html/threejs.html" height="600px" width="800px"></iframe>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h2>Codes</h2>

<pre><code class="r">library(REmap)
GDP = read.csv(&quot;data/GDP.csv&quot;,encoding = &quot;UTF-8&quot;)
remapC(GDP,
         color = c(&quot;red&quot;,&quot;yellow&quot;),
         title = &quot;2015年第二季度中国各省份GDP(亿元)&quot;,
         subtitle = &quot;数据来源中国统计年鉴&quot;)

library(leaflet)
m &lt;- leaflet() %&gt;%
  addTiles() %&gt;%  # Add default OpenStreetMap map tiles
  addMarkers(lng=174.768, lat=-36.852, popup=&quot;The birthplace of R&quot;)
m  # Print the map

library(threejs)

# Plot flights to frequent destinations from
# Callum Prentice&#39;s global flight data set,
# http://callumprentice.github.io/apps/flight_stream/index.html
data(flights)

# Approximate locations as factors
dest   &lt;- factor(sprintf(&quot;%.2f:%.2f&quot;,flights[,3], flights[,4]))

# A table of destination frequencies
freq &lt;- sort(table(dest), decreasing=TRUE)

# The most frequent destinations in these data, possibly hub airports?
frequent_destinations &lt;- names(freq)[1:10]

# Subset the flight data by destination frequency
idx &lt;- dest %in% frequent_destinations
frequent_flights &lt;- flights[idx, ]

# Lat/long of frequent destinations
latlong &lt;- unique(frequent_flights[,3:4])

# Plot frequent destinations as bars, and the flights to and from
# them as arcs. Adjust arc width and color by frequency.
earth &lt;- system.file(&quot;images/world.jpg&quot;,  package=&quot;threejs&quot;)
globejs(img=earth, lat=latlong[,1], long=latlong[,2], arcs=frequent_flights,
        arcsHeight=0.3, arcsLwd=2, arcsColor=&quot;#ffff00&quot;, arcsOpacity=0.15,
        atmosphere=TRUE)
</code></pre>

    <aside class='notes'>
      
    </aside>
   </section>
</section>
<section>
   <section class='' data-state=''>
    <h2>其他有意思的可视化</h2>
    
    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h2>词云<em>wordcloud2</em></h2>

<iframe data-src="html/R.html" height="600px" width="800px"></iframe>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h2>时间轴<em>timevis</em></h2>

<p><img src="pic/wcup.png" alt=""></p>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h2>热图<em>d3heatmap</em></h2>

<iframe data-src="html/heatmap.html" height="600px" width="800px"></iframe>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h2>Codes</h2>

<pre><code class="r">library(wordcloud2)
# Sys.setlocale(&quot;LC_CTYPE&quot;,&quot;eng&quot;)
letterCloud(demoFreqC,&quot;R&quot;,
            fontFamily=&#39;微软雅黑&#39;,
            backgroundColor=&#39;black&#39;,
            color=&#39;random-light&#39;)

library(timevis)
if (interactive()) {
  runExample()
}

library(d3heatmap)
d3heatmap(mtcars, scale = &quot;column&quot;, colors = &quot;Spectral&quot;)
</code></pre>

    <aside class='notes'>
      
    </aside>
   </section>
</section>
<section>
   <section class='' data-state=''>
    <h2>前端可视化的框架</h2>
    <ul>
<li>plotly

<ul>
<li>Rstudio团队ggplot2原班人马</li>
</ul></li>
<li>rbokeh

<ul>
<li>python中bokeh的接口</li>
</ul></li>
<li>recharts

<ul>
<li>百度echarts库</li>
</ul></li>
<li>rCharts，highchartsR

<ul>
<li>基于其他JS库的可视化</li>
</ul></li>
</ul>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h3><em>plotly</em></h3>

<p><img src="pic/plotly2.png" alt=""></p>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h3><em>rbokeh</em></h3>

<p><img src="pic/bokeh.png" alt=""></p>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h3><em>rbokeh</em></h3>

<p><img src="pic/rbok.png" alt=""></p>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h3><em>highcharts</em></h3>

<p><img src="pic/highcharts.png" alt=""></p>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h3><em>recharts</em></h3>

<p><img src="pic/recharts.png" alt=""></p>

    <aside class='notes'>
      
    </aside>
   </section>
   <section class='' data-state=''>
    <h2>Code</h2>

<pre><code class="r">library(rbokeh)
# prepare data
elements &lt;- subset(elements, !is.na(group))
elements$group &lt;- as.character(elements$group)
elements$period &lt;- as.character(elements$period)

# add colors for groups
metals &lt;- c(&quot;alkali metal&quot;, &quot;alkaline earth metal&quot;, &quot;halogen&quot;,
  &quot;metal&quot;, &quot;metalloid&quot;, &quot;noble gas&quot;, &quot;nonmetal&quot;, &quot;transition metal&quot;)
colors &lt;- c(&quot;#a6cee3&quot;, &quot;#1f78b4&quot;, &quot;#fdbf6f&quot;, &quot;#b2df8a&quot;, &quot;#33a02c&quot;,
  &quot;#bbbb88&quot;, &quot;#baa2a6&quot;, &quot;#e08e79&quot;)
elements$color &lt;- colors[match(elements$metal, metals)]
elements$type &lt;- elements$metal

# make coordinates for labels
elements$symx &lt;- paste(elements$group, &quot;:0.1&quot;, sep = &quot;&quot;)
elements$numbery &lt;- paste(elements$period, &quot;:0.8&quot;, sep = &quot;&quot;)
elements$massy &lt;- paste(elements$period, &quot;:0.15&quot;, sep = &quot;&quot;)
elements$namey &lt;- paste(elements$period, &quot;:0.3&quot;, sep = &quot;&quot;)

# create figure
p &lt;- figure(title = &quot;Periodic Table&quot;, tools = c(&quot;resize&quot;, &quot;hover&quot;),
  ylim = as.character(c(7:1)), xlim = as.character(1:18),
  xgrid = FALSE, ygrid = FALSE, xlab = &quot;&quot;, ylab = &quot;&quot;,
  height = 445, width = 800) %&gt;%

# plot rectangles
ly_crect(group, period, data = elements, 0.9, 0.9,
  fill_color = color, line_color = color, fill_alpha = 0.6,
  hover = list(name, atomic.number, type, atomic.mass,
    electronic.configuration)) %&gt;%

# add symbol text
ly_text(symx, period, text = symbol, data = elements,
  font_style = &quot;bold&quot;, font_size = &quot;10pt&quot;,
  align = &quot;left&quot;, baseline = &quot;middle&quot;) %&gt;%

# add atomic number text
ly_text(symx, numbery, text = atomic.number, data = elements,
  font_size = &quot;6pt&quot;, align = &quot;left&quot;, baseline = &quot;middle&quot;) %&gt;%

# add name text
ly_text(symx, namey, text = name, data = elements,
  font_size = &quot;4pt&quot;, align = &quot;left&quot;, baseline = &quot;middle&quot;) %&gt;%

# add atomic mass text
ly_text(symx, massy, text = atomic.mass, data = elements,
  font_size = &quot;4pt&quot;, align = &quot;left&quot;, baseline = &quot;middle&quot;)

p
</code></pre>

    <aside class='notes'>
      
    </aside>
   </section>
</section>
<section class='' data-state='' id='slide-16'>
  <h2>一点建议</h2>
  <ul>
<li>可视化不是炫技, 而是合理的展示数据

<ul>
<li>合理展示的前提下再考虑更炫</li>
</ul></li>
<li>奥卡姆剃刀： 如无必要, 勿增实例

<ul>
<li>简洁而扁平的风格</li>
</ul></li>
<li>不要让工具束缚你的想象力

<ul>
<li>Try JavaScript!</li>
</ul></li>
</ul>

</section>
<section class='' data-state='' id='slide-17'>
  <h2>Thanks</h2>
  <p><a href="http://lchiffon.github.io">My Blog: 七风阁</a></p>

<p><small><a href="mailto:dawei_lang@sina.com">dawei_lang@sina.com</a>|weibo:郎大为chiffon</small>
<br/>
<small>Wrote in Rstudio, power supported by revealjs, linked by slidify</small></p>

<script>
$('ul.incremental li').addClass('fragment')
</script>

</section>
    </div>
  </div>
</body>
  <script src="../libraries/frameworks/revealjs/lib/js/head.min.js"></script>
  <script src="../libraries/frameworks/revealjs/js/reveal.js"></script>
  <script>
  // Full list of configuration options available here:
  // https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    zoom: false,
    center: true,
    theme: Reveal.getQueryHash().theme || 'Sky',
    transition: Reveal.getQueryHash().transition || 'slide',
    dependencies: [
    // Cross-browser shim that fully implements classList -
    // https://github.com/eligrey/classList.js/
      { src: '../libraries/frameworks/revealjs/lib/js/classList.js', condition: function() { return !document.body.classList;}},
      // Zoom in and out with Alt+click
      { src: '../libraries/frameworks/revealjs/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
      // Speaker notes
      { src: '../libraries/frameworks/revealjs/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
      // Remote control your reveal.js presentation using a touch device
      //{ src: '../libraries/frameworks/revealjs/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
      ]
  });
  </script>  <!-- LOAD HIGHLIGHTER JS FILES -->
<script src="../libraries/highlighters/highlight.js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!-- DONE LOADING HIGHLIGHTER JS FILES -->
 

</html>
